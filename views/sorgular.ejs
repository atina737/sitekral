<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('includes/head') %>
</head>

<body>
    <!-- Begin page -->
    <div class="wrapper">
        
        <%- include('includes/sidebar') %>
        <%- include('includes/topbar') %>

        <div class="page-content">
            <div class="page-container">
                
                <div class="page-title-head d-flex align-items-center gap-2">
                    <div class="flex-grow-1">
                        <h4 class="fs-17 mb-0">Sorgu Sistemi</h4>
                    </div>
                    <div class="text-end">
                        <ol class="breadcrumb m-0 py-0 fs-13">
                            <li class="breadcrumb-item"><a href="javascript: void(0);"><%= name %></a></li>
                            <li class="breadcrumb-item"><a href="javascript: void(0);">Sorgular</a></li>
                            <li class="breadcrumb-item active">Sorgu Sistemi</li>
                        </ol>
                    </div>
                </div>


                <!-- Sorgu Sistemi Bilgi Kartı -->
                <div class="row mb-4">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header border-bottom">
                                <div class="d-flex align-items-center justify-content-between">
                                <div>
                                        <h4 class="card-title mb-1">Sorgu Sistemi</h4>
                                        <small class="text-muted">Atina API sistemini kullanarak çeşitli sorgular yapabilirsiniz. Her sorgu için 1 Sorgu Hak harcanır.</small>
                                </div>
                                <div class="d-flex align-items-center gap-2">
                                        <span class="badge bg-primary" id="userQueryCredits">Hak Sayısı: Yükleniyor...</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                                </div>
                            </div>

                <!-- Sorgu Kartları Grid -->
                                    <div class="row g-3">
                    <!-- TC Pro -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #6c757d; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-user text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">TC Pro</h6>
                                        <small class="text-muted">Detaylı Kimlik Bilgileri</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-dark btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#tcModal" style="border-radius: 8px; background: #6c757d; border: none; padding: 8px 12px; font-weight: 500;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Ad Soyad Pro -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #6f42c1; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-id text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">Ad Soyad Pro</h6>
                                        <small class="text-muted">İsim ile TC Bulma</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#adSoyadModal" style="border-radius: 8px; background: #6f42c1; border: none; padding: 8px 12px; font-weight: 500; color: white;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- TC → GSM -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #198754; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-phone text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">TC → GSM</h6>
                                        <small class="text-muted">TC'den Telefon Bulma</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-success btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#tcgsmModal" style="border-radius: 8px; background: #198754; border: none; padding: 8px 12px; font-weight: 500;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- GSM → TC -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #0dcaf0; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-phone-call text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">GSM → TC</h6>
                                        <small class="text-muted">Telefondan TC Bulma</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-info btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#gsmtcModal" style="border-radius: 8px; background: #0dcaf0; border: none; padding: 8px 12px; font-weight: 500;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Aile Ağacı -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #fd7e14; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-users text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">Aile Ağacı</h6>
                                        <small class="text-muted">Aile Bilgileri</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#aileproModal" style="border-radius: 8px; background: #fd7e14; border: none; padding: 8px 12px; font-weight: 500; color: white;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Sülale -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #ffc107; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-users-group text-white fs-4"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">Sülale</h6>
                                        <small class="text-muted">Geniş Aile Bilgileri</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-warning btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#sulaleModal" style="border-radius: 8px; background: #ffc107; border: none; padding: 8px 12px; font-weight: 500;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Adres -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #6f42c1; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-map-pin text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">Adres</h6>
                                        <small class="text-muted">Adres Sorguları</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#adresModal" style="border-radius: 8px; background: #6f42c1; border: none; padding: 8px 12px; font-weight: 500; color: white;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Tapu -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #6c757d; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-home text-white fs-5"></i>
                                    </div>
                                    <div>
                                        <h6 class="text-white fw-bold mb-1">Tapu</h6>
                                        <small class="text-muted">Tapu Kayıt Sorguları</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-dark btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#tapuModal" style="border-radius: 8px; background: #6c757d; border: none; padding: 8px 12px; font-weight: 500;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- İşyeri (SGK) -->
                    <div class="col-lg-4 col-md-6">
                        <div class="card border-0 h-100 query-card" style="border-radius: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); transition: all 0.3s ease;">
                            <div class="card-body p-3 d-flex flex-column">
                                <div class="d-flex align-items-center gap-3 mb-1">
                                    <div class="query-icon" style="width: 50px; height: 50px; background: #0d6efd; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
                                        <i class="ti ti-briefcase text-white fs-5"></i>
                                    </div>
                                <div>
                                        <h6 class="text-white fw-bold mb-1">İşyeri (SGK)</h6>
                                        <small class="text-muted">Çalışma Bilgileri</small>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-primary btn-sm mt-auto query-btn" data-bs-toggle="modal" data-bs-target="#isyeriModal" style="border-radius: 8px; background: #0d6efd; border: none; padding: 8px 12px; font-weight: 500;">
                                    <i class="ti ti-search me-2"></i>Sorgu Yap
                                </button>
                            </div>
                                </div>
                                </div>
                            </div>

                <!-- Ad Soyad Sorgu Modal -->
                <div class="modal fade" id="adSoyadModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-xl modal-dialog-centered">
                        <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                            <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem;">
                                <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                                <div class="d-flex align-items-center gap-3 position-relative">
                                    <div class="bg-white bg-opacity-20 rounded-circle p-3">
                                        <i class="ti ti-search text-white fs-3"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-white mb-1 fw-bold" id="modalTitle">Ad Soyad Sorgu</h4>
                                        <p class="text-white-50 mb-0 small">Kişi bilgilerini sorgulayın</p>
                                    </div>
                                </div>
                                <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                            </div>
                            <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                                <!-- Form Section -->
                                <div id="formSection">
                                    <form id="modalSearchForm">
                                        
                                    <div class="row g-3">
                                            <div class="col-lg-6 col-md-6">
                                                <label for="ad" class="form-label">Ad <span class="text-danger">*</span></label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="ti ti-user"></i></span>
                                                <input type="text" id="ad" name="ad" class="form-control" placeholder="Örn: Ahmet" required>
                                            </div>
                                            <div class="form-text">Kişinin adını girin</div>
                                        </div>
                                            <div class="col-lg-6 col-md-6">
                                                <label for="soyad" class="form-label">Soyad <span class="text-danger">*</span></label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="ti ti-user"></i></span>
                                                <input type="text" id="soyad" name="soyad" class="form-control" placeholder="Örn: Yılmaz" required>
                                            </div>
                                            <div class="form-text">Kişinin soyadını girin</div>
                                        </div>
                                            <div class="col-lg-6 col-md-6">
                                            <label for="il" class="form-label">İl</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="ti ti-map-pin"></i></span>
                                                <input type="text" id="il" name="il" class="form-control" placeholder="Örn: İstanbul">
                                            </div>
                                            <div class="form-text">İl bilgisi (opsiyonel)</div>
                                        </div>
                                            <div class="col-lg-6 col-md-6">
                                            <label for="ilce" class="form-label">İlçe</label>
                                            <div class="input-group">
                                                <span class="input-group-text"><i class="ti ti-map-pin"></i></span>
                                                <input type="text" id="ilce" name="ilce" class="form-control" placeholder="Örn: Kadıköy">
                                            </div>
                                            <div class="form-text">İlçe bilgisi (opsiyonel)</div>
                                        </div>
                                    </div>
                                    <div class="row mt-4">
                                        <div class="col-12 text-center">
                                                <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="modalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                                    <span class="position-relative z-1">
                                                        <span class="spinner-border spinner-border-sm me-2 d-none" id="modalSearchSpinner"></span>
                                                <i class="ti ti-search me-2"></i>Sorgula
                                                    </span>
                                            </button>
                                        </div>
                                    </div>
                                </form>
                            </div>

                                <!-- Results Section -->
                                <div id="resultsSection" style="display: none;">
                                    <div class="d-flex align-items-center justify-content-between mb-4">
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="bg-primary bg-opacity-10 rounded-circle p-3">
                                                <i class="ti ti-table text-primary fs-5"></i>
                        </div>
                                <div>
                                                <h5 class="mb-1 fw-bold text-white">Sorgu Sonuçları</h5>
                                    <small class="text-muted" id="resultCount">Sonuçlar yükleniyor...</small>
                                            </div>
                                </div>
                                <div class="d-flex align-items-center gap-2">
                                            <button class="btn btn-outline-success btn-sm border-0 shadow-sm" id="exportBtn" style="display: none; border-radius: 20px; background: rgba(40, 167, 69, 0.1); color: #28a745;">
                                        <i class="ti ti-download me-1"></i>Dışa Aktar
                                    </button>
                                            <button class="btn btn-outline-primary btn-sm border-0 shadow-sm" id="backToFormBtn" style="border-radius: 20px; background: rgba(102, 126, 234, 0.1); color: #667eea;">
                                                <i class="ti ti-arrow-left me-1"></i>Geri
                                    </button>
                    </div>
                </div>

                                    <!-- Search Controls -->
                                    <div class="d-flex justify-content-end mb-3">
                                        <div class="border rounded d-flex flex-row align-items-center" id="top-search" style="border-color: #6c757d !important; max-width: 300px;">
                                            <i class="ti ti-search text-muted fs-18 ps-2"></i>
                                            <input type="search" class="form-control border-0 bg-transparent text-white" id="tableSearch" placeholder="Kişi ara...">
                                        </div>
                                    </div>
                                    
                                    <div class="rounded-3 shadow-sm border-0 overflow-hidden" style="border-radius: 15px !important; background: #1e1f27;">
                                        <div class="p-3" style="max-height: 400px; overflow-y: auto;">
                                            <div id="resultsBody">
                                            <!-- Sonuçlar buraya gelecek -->
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Pagination -->
                                    <div class="d-flex align-items-center justify-content-between mt-3" id="paginationContainer" style="display: none;">
                                        <div class="text-muted small">
                                            <span id="resultCount">0 sonuç</span>
                                        </div>
                                        <nav aria-label="Sayfa navigasyonu">
                                            <ul class="pagination pagination-sm mb-0" id="pagination" style="gap: 2px;">
                                                <!-- Pagination will be generated by JavaScript -->
                                            </ul>
                                        </nav>
                                </div>
                                
                                    <div class="text-center py-5" id="noResults" style="display: none;">
                                        <div class="bg-light rounded-4 p-5" style="background: linear-gradient(135deg, #1e1f27 0%, #1e1f27 100%) !important;">
                                            <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                                                <i class="ti ti-search-off fs-1 text-warning"></i>
                                            </div>
                                            <h5 class="fw-bold text-dark mb-2">Sonuç Bulunamadı</h5>
                                            <p class="text-muted mb-0">Arama kriterlerinize uygun kişi bulunamadı.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- TC Sorgu Modal -->
                <div class="modal fade" id="tcModal" tabindex="-1" aria-hidden="true">
                    <div class="modal-dialog modal-xl modal-dialog-centered">
                        <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                            <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 2rem;">
                                <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                                <div class="d-flex align-items-center gap-3 position-relative">
                                    <div class="bg-white bg-opacity-20 rounded-circle p-3">
                                        <i class="ti ti-id text-white fs-3"></i>
                                    </div>
                                    <div>
                                        <h4 class="text-white mb-1 fw-bold" id="tcModalTitle">TC Sorgu</h4>
                                        <p class="text-white-50 mb-0 small">TC kimlik numarası ile kişi bilgilerini sorgulayın</p>
                                    </div>
                                </div>
                                <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                            </div>
                            <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                                <!-- Form Section -->
                                <div id="tcFormSection">
                                    <form id="tcModalSearchForm">
                                        <div class="row g-3">
                    <div class="col-12">
                                                <label for="tc" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                                <div class="input-group">
                                                    <span class="input-group-text"><i class="ti ti-id"></i></span>
                                                    <input type="text" id="tc" name="tc" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                                </div>
                                                <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                            </div>
                                        </div>
                                        <div class="row mt-4">
                                            <div class="col-12 text-center">
                                                <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="tcModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                                    <span class="position-relative z-1">
                                                        <span class="spinner-border spinner-border-sm me-2 d-none" id="tcModalSearchSpinner"></span>
                                                        <i class="ti ti-search me-2"></i>Sorgula
                                                    </span>
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                                <!-- Results Section -->
                                <div id="tcResultsSection" style="display: none;">
                                    <div class="d-flex align-items-center justify-content-between mb-4">
                                        <div class="d-flex align-items-center gap-3">
                                            <div class="bg-primary bg-opacity-10 rounded-circle p-3">
                                                <i class="ti ti-table text-primary fs-5"></i>
                                            </div>
                                <div>
                                                <h5 class="mb-1 fw-bold text-white">Sorgu Sonuçları</h5>
                                                <small class="text-muted" id="tcResultCount">Sonuçlar yükleniyor...</small>
                                            </div>
                                </div>
                                <div class="d-flex align-items-center gap-2">
                                            <button class="btn btn-outline-primary btn-sm border-0 shadow-sm" id="tcBackToFormBtn" style="border-radius: 20px; background: rgba(102, 126, 234, 0.1); color: #667eea;">
                                                <i class="ti ti-arrow-left me-1"></i>Geri
                                    </button>
                                </div>
                            </div>
                            
                                    <div class="rounded-3 shadow-sm border-0 overflow-hidden" style="border-radius: 15px !important; background: #1e1f27;">
                                        <div class="p-3" style="max-height: 400px; overflow-y: auto;">
                                            <div id="tcResultsBody">
                                            <!-- Sonuçlar buraya gelecek -->
                                            </div>
                                        </div>
                                </div>
                                
                                    <div class="text-center py-5" id="tcNoResults" style="display: none;">
                                        <div class="bg-light rounded-4 p-5" style="background: linear-gradient(135deg, #1e1f27 0%, #1e1f27 100%) !important;">
                                            <div class="bg-warning bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4" style="width: 80px; height: 80px;">
                                                <i class="ti ti-search-off fs-1 text-warning"></i>
                                            </div>
                                            <h5 class="fw-bold text-dark mb-2">Sonuç Bulunamadı</h5>
                                            <p class="text-muted mb-0">Bu TC kimlik numarası için veri bulunamadı.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <%- include('includes/footer') %>
    </div>

    <!-- Vendor js -->
    <script src="/assets/js/vendor.min.js"></script>
    <script src="/assets/js/app.js"></script>

    <style>
        /* Enhanced Modal Styles */
        .modal-content {
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .form-floating > .form-control:focus {
            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
            border-color: #667eea;
        }
        
        .form-floating > .form-control:focus ~ label {
            color: #667eea;
        }
        
        #modalSearchBtn:hover {
            transform: translateY(-1px) !important;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3) !important;
        }
        
        #modalSearchBtn:active {
            transform: translateY(0) !important;
        }
        
        .table tbody tr {
            transition: all 0.3s ease;
        }
        
        .table tbody tr:hover {
            background-color: rgba(102, 126, 234, 0.05) !important;
        }
        
        .badge {
            transition: all 0.3s ease;
        }
        
        .badge:hover {
            transform: scale(1.02);
        }
        
        .btn-outline-primary:hover,
        .btn-outline-success:hover {
            transform: translateY(-1px);
        }
        
        /* Floating animation for form inputs */
        .form-floating {
            transition: all 0.3s ease;
        }
        
        .form-floating:hover {
            transform: translateY(-1px);
        }
        
        /* Modal backdrop blur */
        .modal-backdrop {
            backdrop-filter: blur(10px);
            background-color: rgba(0, 0, 0, 0.3);
        }
        
        /* Custom scrollbar for table */
        .table-responsive::-webkit-scrollbar {
            height: 8px;
        }
        
        .table-responsive::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .table-responsive::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
        }
        
        .table-responsive::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }
        
        /* Pulse animation for loading */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Shimmer effect for loading */
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .shimmer {
            position: relative;
            overflow: hidden;
        }
        
        .shimmer::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }
        
        /* Pagination hover effects */
        .pagination .page-link {
            transition: all 0.3s ease;
        }
        
        .pagination .page-link:hover:not(.disabled) {
            transform: translateY(-1px);
        }
        
        .pagination .page-item.active .page-link {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
            border: none !important;
        }
        
        .pagination .page-item:not(.active) .page-link {
            background: rgba(255, 255, 255, 0.1) !important;
            border: 1px solid rgba(255, 255, 255, 0.2) !important;
        }
        
        .pagination .page-item:not(.active) .page-link:hover {
            background: rgba(255, 255, 255, 0.2) !important;
            border-color: rgba(255, 255, 255, 0.3) !important;
        }
        
        /* Result item hover effects */
        .result-item {
            transition: all 0.3s ease;
        }
        
        .result-item:hover {
            background: rgba(255,255,255,0.08) !important;
            border-color: rgba(255,255,255,0.2) !important;
            transform: translateY(-2px);
        }
        
        /* List item styling */
        .result-item .border-bottom {
            border-color: rgba(255, 255, 255, 0.1) !important;
        }
        
        .result-item .text-muted {
            font-size: 0.8rem;
            min-width: 100px;
        }
        
        .result-item .text-white {
            font-size: 0.8rem;
            text-align: right;
        }
        
        /* Mobile responsive adjustments */
        @media (max-width: 768px) {
            .result-item .d-flex.justify-content-between {
                flex-direction: column;
                align-items: flex-start !important;
                gap: 0.25rem;
            }
            
            .result-item .text-white {
                text-align: left !important;
            }
            
            .result-item .text-muted {
                min-width: auto;
                font-weight: 600;
            }
        }
        
        @media (max-width: 576px) {
            .result-item {
                padding: 1rem !important;
            }
            
            .result-item .py-1 {
                padding-top: 0.25rem !important;
                padding-bottom: 0.25rem !important;
            }
        }
        
        /* Icon background animations */
        .result-item .bg-info.bg-opacity-20,
        .result-item .bg-success.bg-opacity-20,
        .result-item .bg-warning.bg-opacity-20,
        .result-item .bg-danger.bg-opacity-20,
        .result-item .bg-secondary.bg-opacity-20,
        .result-item .bg-primary.bg-opacity-20 {
            transition: all 0.3s ease;
        }
        
        .result-item:hover .bg-info.bg-opacity-20 {
            background: rgba(13, 202, 240, 0.3) !important;
        }
        
        .result-item:hover .bg-success.bg-opacity-20 {
            background: rgba(25, 135, 84, 0.3) !important;
        }
        
        .result-item:hover .bg-warning.bg-opacity-20 {
            background: rgba(255, 193, 7, 0.3) !important;
        }
        
        .result-item:hover .bg-danger.bg-opacity-20 {
            background: rgba(220, 53, 69, 0.3) !important;
        }
        
        .result-item:hover .bg-secondary.bg-opacity-20 {
            background: rgba(108, 117, 125, 0.3) !important;
        }
        
        .result-item:hover .bg-primary.bg-opacity-20 {
            background: rgba(13, 110, 253, 0.3) !important;
        }
        
        /* Query Cards Hover Effects */
        .query-card {
            transition: all 0.3s ease;
        }
        
        .query-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3) !important;
        }
        
        .query-card:hover .query-icon {
            transform: scale(1.1);
        }
        
        .query-btn {
            transition: all 0.3s ease;
        }
        
        .query-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2) !important;
        }
    </style>

    <!-- TC → GSM Modal -->
    <div class="modal fade" id="tcgsmModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-phone text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="tcgsmModalTitle">TC → GSM Sorgu</h4>
                            <p class="text-white-50 mb-0 small">TC kimlik numarası ile telefon numaralarını sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="tcgsmFormSection">
                        <form id="tcgsmModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="tcgsm" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-id"></i></span>
                                        <input type="text" id="tcgsm" name="tcgsm" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                    </div>
                                    <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="tcgsmModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="tcgsmModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="tcgsmResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-success bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-phone text-success fs-4"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">Sorgu Sonuçları</h5>
                                    <p class="text-muted mb-0" id="tcgsmResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="tcgsmBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="tcgsmResultsBody"></div>
                        <div id="tcgsmNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-phone-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu TC kimlik numarası için telefon numarası bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GSM → TC Modal -->
    <div class="modal fade" id="gsmtcModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #0dcaf0 0%, #6f42c1 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-phone-call text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="gsmtcModalTitle">GSM → TC Sorgu</h4>
                            <p class="text-white-50 mb-0 small">Telefon numarası ile TC kimlik numarasını sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="gsmtcFormSection">
                        <form id="gsmtcModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="gsmtc" class="form-label">GSM Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-phone"></i></span>
                                        <input type="text" id="gsmtc" name="gsmtc" class="form-control" placeholder="Örn: 5321234567" maxlength="10" required>
                                    </div>
                                    <div class="form-text">10 haneli GSM numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="gsmtcModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #0dcaf0 0%, #6f42c1 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="gsmtcModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="gsmtcResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-info bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-phone-call text-info fs-4"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">Sorgu Sonuçları</h5>
                                    <p class="text-muted mb-0" id="gsmtcResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="gsmtcBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="gsmtcResultsBody"></div>
                        <div id="gsmtcNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-phone-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu GSM numarası için TC kimlik numarası bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Adres Modal -->
    <div class="modal fade" id="adresModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-map-pin text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="adresModalTitle">Adres Sorgu</h4>
                            <p class="text-white-50 mb-0 small">TC kimlik numarası ile adres bilgilerini sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="adresFormSection">
                        <form id="adresModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="adres" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-id"></i></span>
                                        <input type="text" id="adres" name="adres" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                    </div>
                                    <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="adresModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="adresModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="adresResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-warning bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-map-pin text-warning fs-3"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">Sorgu Sonuçları</h5>
                                    <p class="text-muted mb-0" id="adresResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="adresBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="adresResultsBody"></div>
                        <div id="adresNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-map-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu TC kimlik numarası için adres bilgisi bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Aile Pro Modal -->
    <div class="modal fade" id="aileproModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #fd7e14 0%, #dc3545 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-users text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="aileproModalTitle">Aile Pro Sorgu</h4>
                            <p class="text-white-50 mb-0 small">TC kimlik numarası ile aile bilgilerini sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="aileproFormSection">
                        <form id="aileproModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="ailepro" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-id"></i></span>
                                        <input type="text" id="ailepro" name="ailepro" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                    </div>
                                    <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="aileproModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #fd7e14 0%, #dc3545 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="aileproModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="aileproResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-danger bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-users text-danger fs-3"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">Aile Bilgileri</h5>
                                    <p class="text-muted mb-0" id="aileproResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="aileproBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="aileproResultsBody"></div>
                        <div id="aileproNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-users-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu TC kimlik numarası için aile bilgisi bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Sülale Modal -->
    <div class="modal fade" id="sulaleModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-users-group text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="sulaleModalTitle">Sülale Sorgu</h4>
                            <p class="text-white-50 mb-0 small">TC kimlik numarası ile sülale bilgilerini sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="sulaleFormSection">
                        <form id="sulaleModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="sulale" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-id"></i></span>
                                        <input type="text" id="sulale" name="sulale" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                    </div>
                                    <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="sulaleModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="sulaleModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="sulaleResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-warning bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-users-group text-warning fs-3"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">Sülale Bilgileri</h5>
                                    <p class="text-muted mb-0" id="sulaleResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="sulaleBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="sulaleResultsBody"></div>
                        <div id="sulaleNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-users-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu TC kimlik numarası için sülale bilgisi bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Tapu Modal -->
    <div class="modal fade" id="tapuModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #6c757d 0%, #495057 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-home text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="tapuModalTitle">Tapu Sorgu</h4>
                            <p class="text-white-50 mb-0 small">TC kimlik numarası ile tapu bilgilerini sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="tapuFormSection">
                        <form id="tapuModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="tapu" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-id"></i></span>
                                        <input type="text" id="tapu" name="tapu" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                    </div>
                                    <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="tapuModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #6c757d 0%, #495057 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="tapuModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="tapuResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-secondary bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-home text-secondary fs-3"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">Tapu Bilgileri</h5>
                                    <p class="text-muted mb-0" id="tapuResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="tapuBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="tapuResultsBody"></div>
                        <div id="tapuNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-home-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu TC kimlik numarası için tapu bilgisi bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- İş Yeri Modal -->
    <div class="modal fade" id="isyeriModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content border-0 shadow-lg" style="border-radius: 20px; overflow: hidden;">
                <div class="modal-header border-0 position-relative" style="background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%); padding: 2rem;">
                    <div class="position-absolute top-0 start-0 w-100 h-100" style="background: url('data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22%3E%3Cdefs%3E%3Cpattern id=%22grain%22 width=%22100%22 height=%22100%22 patternUnits=%22userSpaceOnUse%22%3E%3Ccircle cx=%2225%22 cy=%2225%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2275%22 cy=%2275%22 r=%221%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2250%22 cy=%2210%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2210%22 cy=%2260%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3Ccircle cx=%2290%22 cy=%2240%22 r=%220.5%22 fill=%22white%22 opacity=%220.1%22/%3E%3C/pattern%3E%3C/defs%3E%3Crect width=%22100%22 height=%22100%22 fill=%22url(%23grain)%22/%3E%3C/svg%3E') repeat;"></div>
                    <div class="d-flex align-items-center gap-3 position-relative">
                        <div class="bg-white bg-opacity-20 rounded-circle p-3">
                            <i class="ti ti-briefcase text-white fs-3"></i>
                        </div>
                        <div>
                            <h4 class="text-white mb-1 fw-bold" id="isyeriModalTitle">İş Yeri Sorgu</h4>
                            <p class="text-white-50 mb-0 small">TC kimlik numarası ile iş yeri bilgilerini sorgulayın</p>
                        </div>
                    </div>
                    <button type="button" class="btn-close btn-close-white position-relative" data-bs-dismiss="modal" aria-label="Close" style="opacity: 0.8;"></button>
                </div>
                <div class="modal-body" style="padding: 2.5rem; background: #1e1f27;">
                    <div id="isyeriFormSection">
                        <form id="isyeriModalSearchForm">
                            <div class="row g-3">
                                <div class="col-12">
                                    <label for="isyeri" class="form-label">TC Kimlik Numarası <span class="text-danger">*</span></label>
                                    <div class="input-group">
                                        <span class="input-group-text"><i class="ti ti-id"></i></span>
                                        <input type="text" id="isyeri" name="isyeri" class="form-control" placeholder="Örn: 11111111110" maxlength="11" required>
                                    </div>
                                    <div class="form-text">11 haneli TC kimlik numarasını girin</div>
                                </div>
                            </div>
                            <div class="row mt-4">
                                <div class="col-12 text-center">
                                    <button type="submit" class="btn px-4 py-2 border-0 shadow-sm position-relative overflow-hidden" id="isyeriModalSearchBtn" style="border-radius: 25px; background: linear-gradient(135deg, #0d6efd 0%, #0a58ca 100%); color: white; font-weight: 600; transition: all 0.3s ease;">
                                        <span class="position-relative z-1">
                                            <span class="spinner-border spinner-border-sm me-2 d-none" id="isyeriModalSearchSpinner"></span>
                                            <i class="ti ti-search me-2"></i>Sorgula
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="isyeriResultsSection" style="display: none;">
                        <div class="d-flex align-items-center justify-content-between mb-4">
                            <div class="d-flex align-items-center gap-3">
                                <div class="bg-primary bg-opacity-10 rounded-circle p-3">
                                    <i class="ti ti-briefcase text-primary fs-4"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-1 fw-bold">İş Yeri Bilgileri</h5>
                                    <p class="text-muted mb-0" id="isyeriResultCount">0 sonuç</p>
                                </div>
                            </div>
                            <button type="button" class="btn btn-outline-light btn-sm" id="isyeriBackToFormBtn">
                                <i class="ti ti-arrow-left me-2"></i>Geri Dön
                            </button>
                        </div>
                        <div id="isyeriResultsBody"></div>
                        <div id="isyeriNoResults" class="text-center py-5" style="display: none;">
                            <div class="bg-warning bg-opacity-10 rounded-circle p-4 d-inline-block mb-3">
                                <i class="ti ti-briefcase-off text-warning" style="font-size: 2rem;"></i>
                            </div>
                            <h5 class="text-white mb-2">Sonuç Bulunamadı</h5>
                            <p class="text-muted">Bu TC kimlik numarası için iş yeri bilgisi bulunamadı.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables for sorgu.js
        window.csrfToken = '<%= csrf %>';
        window.userEmail = '<%= user?.email %>';
    </script>
    <script src="/assets/js/sorgu.js"></script>

</body>
</html>
